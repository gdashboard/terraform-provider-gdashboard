---
page_title: "gdashboard_dashboard Data Source - terraform-provider-gdashboard"
subcategory: ""
description: |-
  Dashboard data source. See Grafana documentation https://grafana.com/docs/grafana/latest/dashboards/use-dashboards/ for more details.
---

# gdashboard_dashboard (Data Source)

Dashboard data source. See Grafana [documentation](https://grafana.com/docs/grafana/latest/dashboards/use-dashboards/) for more details.

## Example Usage

```terraform
data "gdashboard_timeseries" "jvm_memory" {
  title = "JVM Memory"

  queries {
    prometheus {
      uid  = "prometheus"
      expr = "sum(increase(jvm_memory_total{container_name='container'}[$__rate_interval]))"
    }
  }
}

data "gdashboard_timeseries" "http_requests" {
  title = "HTTP Requests"

  queries {
    prometheus {
      uid  = "prometheus"
      expr = "sum(increase(http_request_total{container_name='container'}[$__rate_interval]))"
    }
  }
}

data "gdashboard_timeseries" "http_status" {
  title = "HTTP Status"

  queries {
    prometheus {
      uid  = "prometheus"
      expr = "sum(increase(http_status_total{container_name='container'}[$__rate_interval]))"
    }
  }
}

data "gdashboard_dashboard" "jvm_dashboard" {
  title         = "JVM Dashboard"
  description   = "JVM details"
  style         = "light"
  graph_tooltip = "shared-crosshair"

  time {
    default_range {
      from = "now-1h"
      to   = "now+1h"
    }
  }

  variables {
    const {
      name  = "var"
      value = "const-value"
    }

    custom { # dropdown variable
      name = "custom"

      option {
        text  = "entry-1"
        value = "value"
      }

      option {
        text     = "entry-2"
        value    = "value"
        selected = true
      }
    }
  }

  layout {
    section {
      title = "JVM"

      panel {
        size = {
          height = 8
          width  = 10
        }
        source = data.gdashboard_timeseries.jvm_memory.json
      }
    }

    section { // each panel is on a new row
      title = "HTTP"

      row { // force a new row/line
        panel {
          size = {
            height = 8
            width  = 10
          }
          source = data.gdashboard_timeseries.http_requests.json
        }
      }

      row { // force a new row/line
        panel {
          size = {
            height = 8
            width  = 10
          }
          source = data.gdashboard_timeseries.http_status.json
        }
      }
    }
  }
}
```

## Layout Explained

The `layout` block is used to define the structure of the dashboard by grouping the panels into sections.
The layout block can contain one or more section blocks, and each section block can contain one or more panel blocks.

You have the option to include `title` and `collapsed` attributes. If either of these attributes is included,
the section will be collapsible, appearing as a row that can be expanded or collapsed based on the user's preference.

______

The panels are placed starting from the top-left corner of the section and are positioned in a way that preserves their order.
In other words, the first panel specified in the configuration will be placed in the top-left corner of the section, followed by the second panel, and so on.

It's important to note that the placement of panels cannot be manually specified, and it is determined by the order in which the panels are defined in the configuration.

______

You can use the `row` block instead of the `panel` block to explicitly mark rows when defining a layout.
By using `row`, you have greater control over the placement of the panels within the section.

For example, you can place each panel on a new line/row:
```terraform
layout {
  section {
    title = "HTTP"

    row { // force a new row/line
      panel {
        size = {
          height = 8
          width  = 10
        }
        source = data.gdashboard_timeseries.http_requests.json
      }
    }

    row { // force a new row/line
      panel {
        size = {
          height = 8
          width  = 10
        }
        source = data.gdashboard_timeseries.http_status.json
      }
    }
  }
}
```

**Note:** the section block cannot have both `panel` and `row` blocks at the same time. You must use either one or the other.
______

In the example above, the layout block contains two **collapsible** section blocks, one titled "JVM" and the other "HTTP".
The "JVM" section has a single panel block with dimensions `8x10`, and the data source specified as `data.gdashboard_timeseries.jvm_memory.json`.
The "HTTP" section has two panel blocks, both with dimensions `8x10` and data sources `data.gdashboard_timeseries.http_requests.json` and `data.gdashboard_timeseries.http_status.json`, respectively.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `title` (String) The title of the dashboard.

### Optional

- `annotations` (Block List) The annotations to add to the dashboard. (see [below for nested schema](#nestedblock--annotations))
- `description` (String) The description of the dashboard.
- `editable` (Boolean) Whether to make the dashboard editable or not.
- `graph_tooltip` (String) Controls tooltip and hover highlight behavior across different panels: `default`, `shared-crosshair`, `shared-tooltip`.
- `layout` (Block, Optional) The layout of the dashboard. (see [below for nested schema](#nestedblock--layout))
- `style` (String) The dashboard style. The choices are: `dark`, `light`.
- `tags` (List of String) The set of tags to associate with the dashboard.
- `time` (Block List) The time-specific options. (see [below for nested schema](#nestedblock--time))
- `uid` (String) The UID of the dashboard.
- `variables` (Block List) The variables. (see [below for nested schema](#nestedblock--variables))
- `version` (Number) The version of the dashboard.

### Read-Only

- `id` (String) The ID of this resource.
- `json` (String) The Grafana-API-compatible JSON of this panel.

<a id="nestedblock--annotations"></a>
### Nested Schema for `annotations`

Optional:

- `grafana` (Block List) The Grafana annotation query. (see [below for nested schema](#nestedblock--annotations--grafana))
- `prometheus` (Block List) The Prometheus annotation query. (see [below for nested schema](#nestedblock--annotations--prometheus))

<a id="nestedblock--annotations--grafana"></a>
### Nested Schema for `annotations.grafana`

Required:

- `name` (String) The name of the annotation.

Optional:

- `by_dashboard` (Block List) Query for events created on this dashboard and show them in the panels where they were created. (see [below for nested schema](#nestedblock--annotations--grafana--by_dashboard))
- `by_tags` (Block List) This will fetch any annotation events that match the tags filter. (see [below for nested schema](#nestedblock--annotations--grafana--by_tags))
- `color` (String) The color to use for the annotation event markers.
- `enabled` (Boolean) When enabled the annotation query is issued every dashboard refresh.
- `hidden` (Boolean) Whether the annotation can be toggled on or off at the top of the dashboard. With this option checked this toggle will be hidden.

<a id="nestedblock--annotations--grafana--by_dashboard"></a>
### Nested Schema for `annotations.grafana.by_dashboard`

Required:

- `limit` (Number) The limit of events.


<a id="nestedblock--annotations--grafana--by_tags"></a>
### Nested Schema for `annotations.grafana.by_tags`

Required:

- `limit` (Number) The limit of events.

Optional:

- `match_any` (Boolean) Enabling this returns annotations that match any of the tags specified below.
- `tags` (List of String) Specify a list of tags to match. To specify a key and value tag use `key:value` syntax.



<a id="nestedblock--annotations--prometheus"></a>
### Nested Schema for `annotations.prometheus`

Required:

- `name` (String) The name of the annotation.

Optional:

- `color` (String) The color to use for the annotation event markers.
- `enabled` (Boolean) When enabled the annotation query is issued every dashboard refresh.
- `hidden` (Boolean) Whether the annotation can be toggled on or off at the top of the dashboard. With this option checked this toggle will be hidden.
- `query` (Block, Optional) (see [below for nested schema](#nestedblock--annotations--prometheus--query))

<a id="nestedblock--annotations--prometheus--query"></a>
### Nested Schema for `annotations.prometheus.query`

Required:

- `datasource_uid` (String) The uid of the datasource.
- `expr` (String) The query expression.

Optional:

- `min_step` (String) The minimum step interval to use when evaluating the query.
- `tag_keys` (String) The tags to use.
- `text_format` (String) Use either the name or a pattern. For example, `{{instance}}` is replaced with the label value for the label instance.
- `title_format` (String) Use either the name or a pattern. For example, `{{instance}}` is replaced with the label value for the label instance.
- `use_value_as_timestamp` (Boolean) Treat the value of the series as a timestamp.




<a id="nestedblock--layout"></a>
### Nested Schema for `layout`

Optional:

- `section` (Block List) The row within the dashboard. (see [below for nested schema](#nestedblock--layout--section))

<a id="nestedblock--layout--section"></a>
### Nested Schema for `layout.section`

Optional:

- `collapsed` (Boolean) Whether the row is collapsed or not.
- `panel` (Block List) The definition of the panel within the row. (see [below for nested schema](#nestedblock--layout--section--panel))
- `row` (Block List) The new row to align the nested panels. (see [below for nested schema](#nestedblock--layout--section--row))
- `title` (String) The title of the row. If the title is defined the row is treated as collapsible.

<a id="nestedblock--layout--section--panel"></a>
### Nested Schema for `layout.section.panel`

Required:

- `size` (Attributes) The size of the panel. (see [below for nested schema](#nestedatt--layout--section--panel--size))
- `source` (String) The JSON source of the panel.

<a id="nestedatt--layout--section--panel--size"></a>
### Nested Schema for `layout.section.panel.size`

Required:

- `height` (Number) The height of the panel.
- `width` (Number) The width of the panel.



<a id="nestedblock--layout--section--row"></a>
### Nested Schema for `layout.section.row`

Optional:

- `panel` (Block List) The definition of the panel within the row. (see [below for nested schema](#nestedblock--layout--section--row--panel))

<a id="nestedblock--layout--section--row--panel"></a>
### Nested Schema for `layout.section.row.panel`

Required:

- `size` (Attributes) The size of the panel. (see [below for nested schema](#nestedatt--layout--section--row--panel--size))
- `source` (String) The JSON source of the panel.

<a id="nestedatt--layout--section--row--panel--size"></a>
### Nested Schema for `layout.section.row.panel.size`

Required:

- `height` (Number) The height of the panel.
- `width` (Number) The width of the panel.






<a id="nestedblock--time"></a>
### Nested Schema for `time`

Optional:

- `default_range` (Block List) The default query time range. (see [below for nested schema](#nestedblock--time--default_range))
- `picker` (Block List) The time picker options. (see [below for nested schema](#nestedblock--time--picker))
- `refresh_live_dashboards` (Boolean) Continuously re-draw panels where the time range references 'now'.
- `timezone` (String) The timezone to use. Predefined: `utc`, `browser`. Custom: `Europe/Kyiv`.
- `week_start` (String) The custom week start. The choices are: `saturday`, `sunday`, `monday`.

<a id="nestedblock--time--default_range"></a>
### Nested Schema for `time.default_range`

Required:

- `from` (String) The start of the range.
- `to` (String) The end of the range.


<a id="nestedblock--time--picker"></a>
### Nested Schema for `time.picker`

Optional:

- `hide` (Boolean) Whether to hide time picker or not.
- `now_delay` (String) Exclude recent data that may be incomplete. Example: `10s`, `1m`, `15m.`
- `refresh_intervals` (List of String) The auto refresh intervals that should be available in the auto refresh list. The following time units are supported: `s (seconds)`, `m (minutes)`, `h (hours)`, `d (days)`, `w (weeks)`, `M (months)`, and `y (years)`. Example: `1m`, `10s`, `30s`, `1m`, `5m`, `15m`, `30m`, `1h`, `2h`, `1d`.
- `time_options` (List of String) The time options (Last X) that should be available in the range selection list. The following time units are supported: `s (seconds)`, `m (minutes)`, `h (hours)`, `d (days)`, `w (weeks)`, `M (months)`, and `y (years)`. Example: `1m`, `10s`, `30s`, `1m`, `5m`, `15m`, `30m`, `1h`, `2h`, `1d`.



<a id="nestedblock--variables"></a>
### Nested Schema for `variables`

Optional:

- `adhoc` (Block List) The adhoc variable. Allows adding key/value filters that are automatically added to all metric queries that use the specified data source. Unlike other variables, you do not use ad hoc filters in queries. Instead, you use ad hoc filters to write filters for existing queries. (see [below for nested schema](#nestedblock--variables--adhoc))
- `const` (Block List) The constant variable. Defines a hidden constant. (see [below for nested schema](#nestedblock--variables--const))
- `custom` (Block List) The variable options defined as a comma-separated list. (see [below for nested schema](#nestedblock--variables--custom))
- `datasource` (Block List) The datasource variable. Quickly change the data source for an entire dashboard. (see [below for nested schema](#nestedblock--variables--datasource))
- `interval` (Block List) The interval variable. Represents time spans such as `1m`, `1h`, `1d`. You can think of them as a dashboard-wide 'group by time' command. Interval variables change how the data is grouped in the visualization. (see [below for nested schema](#nestedblock--variables--interval))
- `query` (Block List) The query variable. Allows adding a query that can return a list of metric names, tag values, or keys. (see [below for nested schema](#nestedblock--variables--query))
- `textbox` (Block List) The textbox variable. Displays a free text input field with an optional default value. (see [below for nested schema](#nestedblock--variables--textbox))

<a id="nestedblock--variables--adhoc"></a>
### Nested Schema for `variables.adhoc`

Required:

- `name` (String) The name of the variable.

Optional:

- `datasource` (Block, Optional) The datasource to use. (see [below for nested schema](#nestedblock--variables--adhoc--datasource))
- `description` (String) The description of the variable.
- `filter` (Block List) The predefined filters. (see [below for nested schema](#nestedblock--variables--adhoc--filter))
- `hide` (String) Which variable information to hide from the dashboard. The choices are: `label`, `variable`.
- `label` (String) The optional display name.

<a id="nestedblock--variables--adhoc--datasource"></a>
### Nested Schema for `variables.adhoc.datasource`

Required:

- `type` (String) The type of the datasource. The choices are: `prometheus`, `loki`, `influxdb`, `elasticsearch`.
- `uid` (String) The uid of the datasource.


<a id="nestedblock--variables--adhoc--filter"></a>
### Nested Schema for `variables.adhoc.filter`

Required:

- `key` (String) The name of the dimensional label to filter by.
- `operator` (String) The operator to use for comparison. The choices are: `=`, `!=`, `>`, `<`, `=~`, `!~`.
- `value` (String) The expected value of the dimensional label.



<a id="nestedblock--variables--const"></a>
### Nested Schema for `variables.const`

Required:

- `name` (String) The name of the variable.
- `value` (String) The value of the variable.

Optional:

- `description` (String) The description of the variable.
- `label` (String) The optional display name.


<a id="nestedblock--variables--custom"></a>
### Nested Schema for `variables.custom`

Required:

- `name` (String) The name of the variable.

Optional:

- `description` (String) The description of the variable.
- `hide` (String) Which variable information to hide from the dashboard. The choices are: `label`, `variable`.
- `include_all` (Block List) An option to include all variables. If `custom_value` is blank, then the Grafana concatenates (adds together) all the values in the query. (see [below for nested schema](#nestedblock--variables--custom--include_all))
- `label` (String) The optional display name.
- `multi` (Boolean) Whether to allow selecting multiple values at the same time or not.
- `option` (Block List) The option entry. (see [below for nested schema](#nestedblock--variables--custom--option))

<a id="nestedblock--variables--custom--include_all"></a>
### Nested Schema for `variables.custom.include_all`

Required:

- `enabled` (Boolean) Whether to enable the option to include all variables or not.

Optional:

- `custom_value` (String) The value to use when `include_all` is enabled. Example: `*`, `all`, etc.


<a id="nestedblock--variables--custom--option"></a>
### Nested Schema for `variables.custom.option`

Required:

- `text` (String) The text (label) of the entry.
- `value` (String) The value of the entry.

Optional:

- `selected` (Boolean) Whether to mark the option as selected or not.



<a id="nestedblock--variables--datasource"></a>
### Nested Schema for `variables.datasource`

Required:

- `name` (String) The name of the variable.

Optional:

- `description` (String) The description of the variable.
- `hide` (String) Which variable information to hide from the dashboard. The choices are: `label`, `variable`.
- `include_all` (Block List) An option to include all variables. If `custom_value` is blank, then the Grafana concatenates (adds together) all the values in the query. (see [below for nested schema](#nestedblock--variables--datasource--include_all))
- `label` (String) The optional display name.
- `multi` (Boolean) Whether to allow selecting multiple values at the same time or not.
- `source` (Block, Optional) The datasource selector. (see [below for nested schema](#nestedblock--variables--datasource--source))

<a id="nestedblock--variables--datasource--include_all"></a>
### Nested Schema for `variables.datasource.include_all`

Required:

- `enabled` (Boolean) Whether to enable the option to include all variables or not.

Optional:

- `custom_value` (String) The value to use when `include_all` is enabled. Example: `*`, `all`, etc.


<a id="nestedblock--variables--datasource--source"></a>
### Nested Schema for `variables.datasource.source`

Required:

- `type` (String) The type of the datasource. Example: `prometheus`, `loki`, `influxdb`, `elasticsearch`, `cloudwatch`, etc.

Optional:

- `filter` (String) Regex filter for which data source instances to choose from in the variable value list. Leave empty for all. Example: `/^prod/`.



<a id="nestedblock--variables--interval"></a>
### Nested Schema for `variables.interval`

Required:

- `intervals` (List of String) The time range intervals that you want to appear in the variable drop-down list. The following time units are supported: `s (seconds)`, `m (minutes)`, `h (hours)`, `d (days)`, `w (weeks)`, `M (months)`, and `y (years)`. Example: `1m`, `10m`, `30m`, `1h`, `6h`, `12h`, `1d`, `7d`, `14d`, `30d`.
- `name` (String) The name of the variable.

Optional:

- `auto` (Block List) Defines how many times the current time range should be divided to calculate the current auto time span. (see [below for nested schema](#nestedblock--variables--interval--auto))
- `description` (String) The description of the variable.
- `hide` (String) Which variable information to hide from the dashboard. The choices are: `label`, `variable`.
- `label` (String) The optional display name.

<a id="nestedblock--variables--interval--auto"></a>
### Nested Schema for `variables.interval.auto`

Required:

- `enabled` (Boolean) Whether to enable calculation of auto time spans or not.
- `min_interval` (String) The calculated value will not go below this threshold.
- `step_count` (Number) How many times the current time range should be divided to calculate the value. The choices are: `1`, `2`, `3`, `4`, `5`, `10`, `20`, `30`, `40`, `50`, `100`, `200`, `300`, `400`, `500`.



<a id="nestedblock--variables--query"></a>
### Nested Schema for `variables.query`

Required:

- `name` (String) The name of the variable.

Optional:

- `description` (String) The description of the variable.
- `hide` (String) Which variable information to hide from the dashboard. The choices are: `label`, `variable`.
- `include_all` (Block List) An option to include all variables. If `custom_value` is blank, then the Grafana concatenates (adds together) all the values in the query. (see [below for nested schema](#nestedblock--variables--query--include_all))
- `label` (String) The optional display name.
- `multi` (Boolean) Whether to allow selecting multiple values at the same time or not.
- `refresh` (String) When to update the values of this variable. The choices are: `dashboard-load`, `time-range-change`.
- `regex` (String) The regex expression to filter or capture specific parts of the names returned by your data source query. Example: `/.*instance="([^"]*).*/`.
- `sort` (Block List) The sort order for values to be displayed in the dropdown list. (see [below for nested schema](#nestedblock--variables--query--sort))
- `target` (Block List) The datasource-specific query. (see [below for nested schema](#nestedblock--variables--query--target))

<a id="nestedblock--variables--query--include_all"></a>
### Nested Schema for `variables.query.include_all`

Required:

- `enabled` (Boolean) Whether to enable the option to include all variables or not.

Optional:

- `custom_value` (String) The value to use when `include_all` is enabled. Example: `*`, `all`, etc.


<a id="nestedblock--variables--query--sort"></a>
### Nested Schema for `variables.query.sort`

Required:

- `type` (String) The type of sorting. The choices are: `disabled`, `alphabetical`, `numerical`, `alphabetical-case-insensitive`.

Optional:

- `order` (String) The order of the sorting. The choices are: `asc`, `desc`.


<a id="nestedblock--variables--query--target"></a>
### Nested Schema for `variables.query.target`

Optional:

- `prometheus` (Block List) (see [below for nested schema](#nestedblock--variables--query--target--prometheus))

<a id="nestedblock--variables--query--target--prometheus"></a>
### Nested Schema for `variables.query.target.prometheus`

Required:

- `expr` (String) The query expression.
- `uid` (String) The uid of the datasource.




<a id="nestedblock--variables--textbox"></a>
### Nested Schema for `variables.textbox`

Required:

- `name` (String) The name of the variable.

Optional:

- `default_value` (String) The default value of the variable to use when the textbox is empty.
- `description` (String) The description of the variable.
- `hide` (String) Which variable information to hide from the dashboard. The choices are: `label`, `variable`.
- `label` (String) The optional display name.
