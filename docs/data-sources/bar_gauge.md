---
page_title: "gdashboard_bar_gauge Data Source - terraform-provider-gdashboard"
subcategory: ""
description: |-
  Bar Gauge panel data source
---

# gdashboard_bar_gauge (Data Source)

Bar Gauge panel data source

## Minimal Example

```terraform
data "gdashboard_bar_gauge" "jobs_processed" {
  title = "Jobs Processed"

  targets {
    prometheus {
      uid     = "prometheus"
      expr    = "sort_desc(sum(increase(jobs_processed_total{container_name='container'}[$__range])) by (job_type))"
      instant = true
    }
  }
}
```

## Configuration Example

```terraform
data "gdashboard_bar_gauge" "jobs_processed" {
  title = "Jobs Processed"

  field {
    decimals = 0
  }

  graph {
    orientation  = "horizontal"
    display_mode = "basic"

    options {
      calculation = "lastNotNull"
    }
  }

  targets {
    prometheus {
      uid           = "prometheus"
      expr          = "sort_desc(sum(increase(jobs_processed_total{container_name='container'}[$__range])) by (job_type))"
      min_interval  = "30"
      legend_format = "{{job_type}}"
      instant       = true
    }
  }
}
```

## Provider Defaults Example

You can define default attributes for the bar gauge data source via provider.
In the example below, both panels inherit default attributes from the provider.

```terraform
provider "gdashboard" {
  defaults {
    bar_gauge {
      field {
        decimals = 0
      }

      graph {
        orientation  = "horizontal"
        display_mode = "basic"

        options {
          calculation = "lastNotNull"
        }
      }
    }
  }
}

data "gdashboard_bar_gauge" "jobs_processed" {
  title = "Jobs Processed"

  targets {
    prometheus {
      uid           = "prometheus"
      expr          = "sort_desc(sum(increase(jobs_processed_total{container_name='container'}[$__range])) by (job_type))"
      min_interval  = "30"
      legend_format = "{{job_type}}"
      instant       = true
    }
  }
}

data "gdashboard_bar_gauge" "mails_sent" {
  title = "Mails Sent"

  targets {
    prometheus {
      uid           = "prometheus"
      expr          = "sort_desc(sum(increase(mails_sent_total{container_name='container'}[$__range])) by (mail_type))"
      min_interval  = "30"
      legend_format = "{{mail_type}}"
      instant       = true
    }
  }
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `title` (String) The title of this panel.

### Optional

- `description` (String) The description of this panel.
- `field` (Block List, Max: 1) The customization of field options. (see [below for nested schema](#nestedblock--field))
- `graph` (Block List, Max: 1) The visualization options. (see [below for nested schema](#nestedblock--graph))
- `queries` (Block List, Max: 3) The queries to collect values from data sources. (see [below for nested schema](#nestedblock--queries))

### Read-Only

- `id` (String) The ID of this resource.
- `json` (String) The Grafana-API-compatible JSON of this panel.

<a id="nestedblock--field"></a>
### Nested Schema for `field`

Optional:

- `color` (Block List, Max: 1) Defines how Grafana colors series or fields. There are multiple modes here that work differently, and their utility depends largely on the currently selected visualization. (see [below for nested schema](#nestedblock--field--color))
- `decimals` (Number) The number of decimals to include when rendering a value. Must be between `0` and `20` (inclusive).
- `mappings` (Block List, Max: 1) The set of rules that translate a field value or range of values into explicit text. (see [below for nested schema](#nestedblock--field--mappings))
- `max` (Number) The maximum value used in percentage threshold calculations.
- `min` (Number) The minimum value used in percentage threshold calculations.
- `no_value` (Number) The value to display if the field value is empty or null.
- `thresholds` (Block List, Max: 1) Thresholds set the color of the value text depending on conditions that you define. (see [below for nested schema](#nestedblock--field--thresholds))
- `unit` (String) The unit the field should use.

<a id="nestedblock--field--color"></a>
### Nested Schema for `field.color`

Optional:

- `fixed_color` (String) The series to use to define the color. This is useful for graphs and pie charts, for example.
- `mode` (String) The colorization mode. The most popular options:
1) `fixed` - specific color set by using the value of `fixed_color`.
2) `thresholds` - a color is derived from the matching threshold. This is useful for gauges, stat, and table visualizations.
3) `palette-classic` - a color is derived from the matching threshold using the classic color palette.
- `series_by` (String) The series to use to define the color. This is useful for graphs and pie charts, for example.


<a id="nestedblock--field--mappings"></a>
### Nested Schema for `field.mappings`

Optional:

- `range` (Block List, Max: 10) Match a numerical range of values. (see [below for nested schema](#nestedblock--field--mappings--range))
- `regex` (Block List, Max: 10) Match a regular expression with replacement. (see [below for nested schema](#nestedblock--field--mappings--regex))
- `special` (Block List, Max: 10) Match on null, NaN, boolean and empty values. (see [below for nested schema](#nestedblock--field--mappings--special))
- `value` (Block List, Max: 10) Match a specific text value. (see [below for nested schema](#nestedblock--field--mappings--value))

<a id="nestedblock--field--mappings--range"></a>
### Nested Schema for `field.mappings.range`

Required:

- `from` (Number) The start of the range.
- `to` (Number) The end of the range.

Optional:

- `color` (String) The color to use if the condition is met.
- `display_text` (String) Text to display if the condition is met. This field accepts Grafana variables.


<a id="nestedblock--field--mappings--regex"></a>
### Nested Schema for `field.mappings.regex`

Required:

- `pattern` (String) The regular expression to match.

Optional:

- `color` (String) The color to use if the condition is met.
- `display_text` (String) Text to display if the condition is met. This field accepts Grafana variables.


<a id="nestedblock--field--mappings--special"></a>
### Nested Schema for `field.mappings.special`

Optional:

- `color` (String) The color to use if the condition is met.
- `display_text` (String) Text to display if the condition is met. This field accepts Grafana variables.
- `match` (String) The category to match. The choices are: `null`, `nan`, `null+nan`, `true`, `false`, `empty`.


<a id="nestedblock--field--mappings--value"></a>
### Nested Schema for `field.mappings.value`

Required:

- `value` (String) The exact value to match.

Optional:

- `color` (String) The color to use if the condition is met.
- `display_text` (String) Text to display if the condition is met. This field accepts Grafana variables.



<a id="nestedblock--field--thresholds"></a>
### Nested Schema for `field.thresholds`

Optional:

- `mode` (String) The threshold mode. The choices are:
1) `absolute` - defined based on a number; for example, 80 on a scale of 1 to 150. 
2) `percentage` - defined relative to minimum or maximum; for example, 80 percent.
- `step` (Block List, Max: 20) The threshold steps. (see [below for nested schema](#nestedblock--field--thresholds--step))

<a id="nestedblock--field--thresholds--step"></a>
### Nested Schema for `field.thresholds.step`

Required:

- `color` (String) The color for the matching values.

Optional:

- `value` (Number) The value to match. Either percentage or absolute. Depends on the mode. The step without `value` indicates the base color. It is generally the good color.




<a id="nestedblock--graph"></a>
### Nested Schema for `graph`

Optional:

- `display_mode` (String) The display mode. The choices are: `gradient`, `lcd`, `basic`.
- `options` (Block List, Max: 1) Value reduce or calculation options. (see [below for nested schema](#nestedblock--graph--options))
- `orientation` (String) The layout orientation. The choices are: `auto`, `horizontal`, `vertical`.
- `text_alignment` (String) The text alignment. The choices are: `auto`, `center`.
- `text_size` (Block List, Max: 1) The size of the text elements on the panel. (see [below for nested schema](#nestedblock--graph--text_size))

<a id="nestedblock--graph--options"></a>
### Nested Schema for `graph.options`

Optional:

- `calculation` (String) A reducer function or calculation. The choices are: `lastNotNull`, `last`, `firstNotNull`, `first`, `min`, `max`, `mean`, `sum`, `count`, `range`, `delta`, `step`, `diff`, `logmin`, `allIsZero`, `allIsNull`, `changeCount`, `distinctCount`, `diffperc`, `allValues`, `uniqueValues`
- `fields` (String) The fields that should be included in the panel.
- `limit` (Number) The max number of rows to display.
- `values` (Boolean) Whether to calculate a single value per column or series or show each row.


<a id="nestedblock--graph--text_size"></a>
### Nested Schema for `graph.text_size`

Optional:

- `title` (Number) The size of the title. Must be between `1` and `100` (inclusive).
- `value` (Number) The size of the value. Must be between `1` and `100` (inclusive).



<a id="nestedblock--queries"></a>
### Nested Schema for `queries`

Optional:

- `cloudwatch` (Block List, Max: 5) The CloudWatch query. (see [below for nested schema](#nestedblock--queries--cloudwatch))
- `prometheus` (Block List, Max: 5) The Prometheus query. (see [below for nested schema](#nestedblock--queries--prometheus))

<a id="nestedblock--queries--cloudwatch"></a>
### Nested Schema for `queries.cloudwatch`

Required:

- `metric_name` (String) The name of the metric to query. Example: `CPUUtilization`
- `namespace` (String) The namespace to query the metrics from.
- `statistic` (String) The calculation to apply to the time series.
- `uid` (String) The UID of a CloudWatch DataSource to use in this query.

Optional:

- `dimension` (Block List, Max: 5) The dimension to filter the metric with. (see [below for nested schema](#nestedblock--queries--cloudwatch--dimension))
- `label` (String) The legend name.
- `match_exact` (Boolean) If enabled you also need to specify **all** the dimensions of the metric youâ€™re querying.
- `period` (String) The minimum interval between points in seconds.
- `ref_id` (String) The ID of the query. The ID can be used to reference queries in math expressions.
- `region` (String) The AWS region to query the metrics from.

<a id="nestedblock--queries--cloudwatch--dimension"></a>
### Nested Schema for `queries.cloudwatch.dimension`

Required:

- `name` (String) The name of the dimension.
- `value` (String) The value of the dimension.



<a id="nestedblock--queries--prometheus"></a>
### Nested Schema for `queries.prometheus`

Required:

- `expr` (String) The query expression.
- `uid` (String) The UID of a Prometheus DataSource to use in this query.

Optional:

- `format` (String) The query format. The choices are: `time_series`, `table`, `heatmap`.
- `instant` (Boolean) Whether to return the latest value from the time series or not.
- `legend_format` (String) The legend name.
- `min_interval` (String) The lower bounds on the interval between data points.
- `ref_id` (String) The ID of the query. The ID can be used to reference queries in math expressions.
